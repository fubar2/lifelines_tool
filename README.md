### lifelines_tool - lifelines survival analysis python package wrapped as a Galaxy tool.

1. A Galaxy tool for right censored failure time data.
2. Provides Kaplan-Meier plots with confidence intervals, and optional Cox proportional hazards models
3. Uses the [lifelines](https://lifelines.readthedocs.io/en/latest/index.html) package.
4. Install to your Galaxy server from the toolshed - search for lifelines_km_cph_tool owned by fubar2

#### Using the Rossi sample recidivism data from lifelines:

Runs Kaplan-Meier and generates a plot. Optional grouping variable race was supplied, so plots show confidence intervals

![KM plot sample](lifelines_rossi_km.png)

If 2 groups, runs a log-rank test for difference in the report.

![KM plot sample](lifelines_report.png)

If a comma separated list (for example: prio, age, race, mar, fin) of covariate column names is provided,
a Cox proportional hazards model is run, the assumption of proportionality is tested, and
recommendations made.

![KM plot sample](lifelines_rossi_schoenfeld.png)

Partial plots for each covariate. Quintiles are used if there are >10 distinct values in the column.
If you have non-ordinal covariates with >10 categores, this will produce garbage plots, but the model will also be
hard to interpret so good luck.

![C-PH partial plot samples](agepartialrossi.png)

![C-PH partial plot samples](parolepartialrossi.png)

Uses pandas read_csv with tabular delimiters so should work with any tabular data with the required columns - time and status for observations.

Issues to https://github.com/fubar2/lifelines_tool please.
Autogenerated so pull requests are possibly meaningless but regeneration of a new version should work.

## Tool made with the Galaxy ToolFactory: https://github.com/fubar2/galaxy_tf_overlay

Galaxy Training Network tutorials [ are available here](https://training.galaxyproject.org/training-material/topics/dev/tutorials/tool-generators/tutorial.html)

The generating history for this tool can be imported into a ToolFactory instance using this url:
[https://github.com/fubar2/lifelines_tool/raw/main/Galaxy-ToolFactory-History-lifelineskmcphtoolfactory.tar.gz](https://github.com/fubar2/lifelines_tool/raw/main/Galaxy-ToolFactory-History-lifelineskmcphtoolfactory.tar.gz)

Once imported, switch to that new history. The original ToolFactory form can be recreated using the redo button.
Editing the tool id will make a new tool, so all other edits to parameters can be made and the new tool generated without destroying the original sample.


